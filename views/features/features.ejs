<% let uploadImage = false %>
<%- include('../partials/header.ejs', {uploadImage}) %>
<div id="top-posts-container" class="container">
  <div class="row">
    <div class="col">
      <div id="viewAlbums">
        <div class="album-title">Your Albums</div>
        <div id="myAlbums">
          <div class="row">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row parent-container">
    <% posts.forEach(function(post) { %>
      <div class="col-sm-4">
          <div class="post">
            <a href="<%= post.imageURL %>"><div class="img-fluid" style="background-size: cover;background-image: url('<%= post.imageURL %>'); width: 100%; height:200px;"></div></a>
            <div class="overlay-content">
              <div class="d-flex justify-content-center align-items-center">
                <div class="likes-count"><%= post.Likes.length %></div> &nbsp;
                <% let liked = false; %>
                <% let likes = post.Likes %>
                <% likes.forEach((like) => {
                  if (like.UserId== user.id){
                    liked = true;
                  }
                })%>
                <% if (liked){%>
                  <i class="heart fa fa-heart" aria-hidden="true"></i>
                <% } else {%>
                  <i class="heart fa fa-heart-o" aria-hidden="true"></i>
                <% } %>
              </div>
              <div class="d-flex justify-content-center align-items-center">
                <i class="fa fa-user-circle" aria-hidden="true"></i> &nbsp;
                <div class="author"><%= post.User.firstName%></div>
                <div class="postId"><%= post.id %></div>
              </div>
            </div>
          </div>
      </div>
    <% }) %>
  </div>
<%- include('../partials/footer.ejs') %>
